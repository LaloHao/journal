<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-08-31 Tue 04:14 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>30 Aug 30 de 08mmm 2021</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Eduardo V." />
<style type="text/css">
<!--/*--><![CDATA[/*><!--*/
*,
*::before,
*::after {
	box-sizing: border-box;
}

html {
	line-height: 1.35;
	-webkit-text-size-adjust: 100%;
}

body {
	margin: 0;
	font-family:
		system-ui,
		-apple-system,
		'Segoe UI',
		Roboto,
		Helvetica,
		Arial,
		sans-serif,
		'Apple Color Emoji',
		'Segoe UI Emoji';
}

hr {
	height: 0;
	color: inherit;
}

b,
strong {
	font-weight: bolder;
}

code,
kbd,
samp,
pre {
	font-family:
		ui-monospace,
		SFMono-Regular,
		Consolas,
		'Liberation Mono',
		Menlo,
		monospace;
	font-size: 1em;
}

small {
	font-size: 80%;
}

sub,
sup {
	font-size: 75%;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
}

sub {
	bottom: -0.25em;
}

sup {
	top: -0.5em;
}

table {
	text-indent: 0;
	border-color: inherit;
}

summary {
	display: list-item;
}

:root {
  --bc-tb: #fafafa;
  --bc-block: #84888b;
  --clr: #383a42;
  --clr-tb-hd: initial;
  --clr-code: initial;
  --bg: #f0f0f0;
  --bg-code: #e7e7e7;
  --bg-tb-hd: #e7e7e7;
  --bg-block: #e7e7e7;
  --clr-link: #b751b6;
  --clr-title: #383a42;
  --clr-todo: #50a14f;
  --bg-todo: initial;
  --clr-done: #9ca0a4;
  --bg-done: initial;
  --ts-clr: #e45649;
  --mg: 20px;
  --w-toc: 300px;
  --bg-keyword: initial;
  --clr-keyword: #e45649;
  --bg-constant: initial;
  --clr-constant: #b751b6;
  --bg-comment: initial;
  --clr-comment: #9ca0a4;
  --bg-comment-delimiter: initial;
  --clr-comment-delimiter: initial;
  --bg-function: initial;
  --clr-function: #a626a4;
  --bg-variable: initial;
  --clr-variable: #6a1868;
  --bg-preprocessor: initial;
  --clr-preprocessor: #4078f2;
  --bg-doc: initial;
  --clr-doc: #84888b;
  --bg-builtin: initial;
  --clr-builtin: #a626a4;
  --bg-string: initial;
  --clr-string: #50a14f;
}

html {
  font-family: Sans;
}

body {
  background: #999;
  display: flex;
  flex-direction: column;
  align-items: center;
}

body[data-theme='light'] {
  background: var(--bg);
  color: var(--clr);
}

body[data-theme='dark'] {
  background: var(--bg);
  color: var(--clr);
  --bc-tb: #282c34;
  --bc-block: #83898d;
  --clr: #bbc2cf;
  --clr-code: #bbc2cf;
  --clr-tb-hd: #bbc2cf;
  --bg: #21242b;
  --bg-tb-hd: #1c1e24;
  --bg-code: #1c1e24;
  --bg-block: #23272e;
  --clr-link: #a9a1e1;
  --clr-title: #bbc2cf;
  --clr-todo: #98be65;
  --bg-todo: initial;
  --clr-done: #5B6268;
  --bg-done: initial;
  --ts-clr: #51afef;
  --mg: 20px;
  --w-toc: 300px;
  --bg-keyword: initial;
  --clr-keyword: #51afef;
  --bg-constant: initial;
  --clr-constant: #a9a1e1;
  --bg-comment: initial;
  --clr-comment: #5B6268;
  --bg-comment-delimiter: initial;
  --clr-comment-delimiter: initial;
  --bg-function: initial;
  --clr-function: #c678dd;
  --bg-variable: initial;
  --clr-variable: #dcaeea;
  --bg-preprocessor: initial;
  --clr-preprocessor: #51afef;
  --bg-doc: initial;
  --clr-doc: #83898d;
  --bg-builtin: initial;
  --clr-builtin: #c678dd;
  --bg-string: initial;
  --clr-string: #98be65;
}


@media only screen and (max-width: 768px) {
  #content {
    width: 100%;
    padding-left: 10px;
    padding-right: 10px;
  }
}

@media only screen and (min-width: 768px) {
  #content {
    width: 768px;
  }
}

@media only screen and (min-width: 1024px) {
  body {
    align-items: flex-end;
  }
  #content {
    width: calc(100vw - var(--w-toc) - var(--mg) * 4);
    margin-right: var(--mg);
  }
}

h1 {
  color: var(--clr-title);
  text-align: center;
}
h2, h3, h4, h5, h6, h7 {
  font-family: Sans Serif;
}
h2 {
  line-height: 2.5em;
}
h2::before {
  content: "â—‰ ";
}
h3::before {
  content: "âœ¸ ";
}
h4::before {
  content: "â–· ";
}

code {
  color: var(--clr-code);
  background: var(--bg-code);
  border-radius: 2px;
  padding-left: 5px;
  padding-right: 5px;
}

pre {
  padding: 20px;
  border: 1px solid var(--bc-block);
  background: var(--bg-block);
  font-size: 0.9rem;
  overflow-x: scroll;
}

pre::-webkit-scrollbar {
  display: none;
}

pre {
  -ms-overflow-style: none;
  scrollbar-width: none;
}


.todo {
  color: var(--clr-todo);
  background: var(--bg-todo);
}

.done {
  color: var(--clr-done);
  background: var(--bg-done);
}

.timestamp-wrapper {
  font-size: 0.8rem;
  color: var(--clr-ts);
}

table {
  width: 100%;
  border: 2px solid var(--bc-tb);
}

thead {
  color: var(--clr-tb-hd);
  background: var(--bg-tb-hd);
}

td, th {
  border: thin solid var(--bc-tb);
}

li {
  line-height: 2rem;
}

a {
  text-decoration: none;
  color: var(--clr-link);
}

a:hover {
  text-decoration: underline;
}

#table-of-contents > h2 {
  display: none;
}

#table-of-contents {
  border: thin solid var(--bc-block);
  background: var(--bg-block);
}

#toggle-toc {
  display: none;
}

.toc-show {
  display: block!important;
}

@media only screen and (max-width: 768px) {
  #toggle-toc {
    position: fixed;
    top: 0;
    right: 0;
    cursor: pointer;
    padding-left: 10px;
    padding-right: 10px;
    font-size: 2em;
    line-height: 2em;
    display: block;
  }
  #table-of-contents {
    background: var(--bg);
    display: none;
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    overflow-y: scroll;
  }
  #table-of-contents a {
    color: var(--clr);
  }
}

@media only screen and (min-width: 1024px) {
  #table-of-contents {
    font-size: 0.8rem;
    position: fixed;
    left: var(--mg);
    top: var(--mg);
    bottom: var(--mg);
    width: var(--w-toc);
    overflow-y: scroll;
  }
}

#table-of-contents::-webkit-scrollbar {
  display: none;
}

#table-of-contents {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.MathJax_Display {
  font-size: 1.25em;
}

#toggle-theme {
  border-width: 0;
  line-height: 4em;
  padding-left: 1em;
  padding-right: 1em;
  background: var(--bg-block);
  color: var(--clr-code);
}

#toggle-theme:hover {
  cursor: pointer;
}

img {
  width: 100%;
}

@media only screen and (max-width: 768px) {
  #toggle-theme {
    width: 100%;
    text-align: center;
  }
}

@media only screen and (min-width: 768px) {
  #toggle-theme {
    position: absolute;
    top: var(--mg);
    right: var(--mg);
    border-radius: 5px;
  }
}

.theme-transition {
  transition: all 0.5s;
}

.status {
  width: 100%;
}

@media only screen and (max-width: 768px) {
  ul {
    padding-left: .5em;
    margin-left: 0;
  }
  li {
    padding-left: 0;
    margin-left: 0;
  }
}
/*]]>*/-->
</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="preamble" class="status">
<div id="toggle-theme">dark theme</div><div id="toggle-toc">&#9776;</div>
</div>
<div id="content">
<h1 class="title">30 Aug 30 de 08mmm 2021</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org265feb7">1. 01:26 Remover propiedades del texto en Emacs</a></li>
<li><a href="#orgdcffced">2. 02:46 Problemas con xmonad + ghc + nix</a></li>
<li><a href="#orge470ff0">3. 03:46 Regexps en emacs</a>
<ul>
<li><a href="#org62b1aef">3.1. Referencias</a></li>
</ul>
</li>
<li><a href="#org0f4a0b8">4. 03:50 Continuando con los diccionarios</a>
<ul>
<li><a href="#org8930794">4.1. Referencias</a></li>
</ul>
</li>
<li><a href="#org694acc4">5. 10:36 Ring a bell when a shell command finishes</a>
<ul>
<li><a href="#org8179c4e">5.1. References</a></li>
</ul>
</li>
<li><a href="#orgf942737">6. 11:24 Continuando con el diccionario</a>
<ul>
<li><a href="#orgc748993">6.1. Signos</a></li>
</ul>
</li>
<li><a href="#orgefb6832">7. 12:43 Colorear ANSII&#xa0;&#xa0;&#xa0;<span class="tag"><span class="no_export">no_export</span></span></a></li>
<li><a href="#org2b4ea7b">8. 12:43 Quitando el prompt del shell al ejecutar codigo desde org mode</a></li>
<li><a href="#orga8aba9e">9. 22:45 Previsualizando powerline</a></li>
<li><a href="#org032f295">10. 23:11 Propertized text as elisp source block result</a>
<ul>
<li><a href="#org92aa2b2">10.1. References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org265feb7" class="outline-2">
<h2 id="org265feb7"><span class="section-number-2">1.</span> 01:26 Remover propiedades del texto en Emacs</h2>
<div class="outline-text-2" id="text-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">let</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: var(--clr-variable); background-color: var(--bg-variable);">inhibit-read-only</span> t<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">dolist</span> <span style="color: #98be65;">(</span>o <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">overlays-in</span> <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">window-start</span><span style="color: #c678dd;">)</span> <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">window-end</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span><span style="color: #98be65;">)</span> 
    <span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">delete-overlay</span> o<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">set-text-properties</span> <span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">point-min</span><span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">point-max</span><span style="color: #98be65;">)</span> nil<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
t
</p>
</div>
</div>

<div id="outline-container-orgdcffced" class="outline-2">
<h2 id="orgdcffced"><span class="section-number-2">2.</span> 02:46 Problemas con xmonad + ghc + nix</h2>
<div class="outline-text-2" id="text-2">
<p>
Inspecting <code>xmonad</code>
</p>
<div class="org-src-container">
<pre class="src src-bash">which xmonad
</pre>
</div>

<p>
<i>home/hao</i>.nix-profile/bin/xmonad
</p>

<p>
I know it&rsquo;s in my profile&#x2026;, but where?
</p>

<div class="org-src-container">
<pre class="src src-bash">which xmonad | xargs readlink
</pre>
</div>

<p>
/nix/store/d3vjzacp224133hig5lrsdcp7c78s0wn-home-manager-path/bin/xmonad
</p>

<p>
Ok&#x2026;, installed by <code>home-manager</code>, but where is it?
</p>

<div class="org-src-container">
<pre class="src src-bash">which xmonad | xargs readlink | xargs readlink
</pre>
</div>

<p>
/nix/store/46gw87a78kapblvvvch09s7asr6a15k8-xmonad-with-packages-8.10.6/bin/xmonad
</p>

<p>
^ Save that path, you can see it&rsquo;s actually pointing to the <code>xmonad</code> binary:
</p>

<div class="org-src-container">
<pre class="src src-bash">file /nix/store/g7f0v21jmi9smh1q1f6fw050r76nzb1p-ghc-8.10.6-with-packages/bin/xmonad
</pre>
</div>

<p>
/nix/store/g7f0v21jmi9smh1q1f6fw050r76nzb1p-ghc-8.10.6-with-packages/bin/xmonad: symbolic link to /nix/store/0lxxi3hrs49fiil29xw6gjx09ad3nf2n-xmonad-0.15/bin/xmonad
</p>

<p>
Now enter the monad (with packages):
</p>
<div class="org-src-container">
<pre class="src src-bash">nix-shell -p xmonad-with-packages
</pre>
</div>

<p>
bash: bind: warning: line editing not enabled
bash: bind: warning: line editing not enabled
bash: bind: warning: line editing not enabled
[0m[38;5;236mî‚°[0m
[0m[38;5;236mî‚°[0m org<sub>babel</sub><sub>sh</sub><sub>eoe</sub>
</p>

<p>
For starters, the derivation is pointing elsewhere, not to my home-environment,
but directly to the nix-store:
</p>

<div class="org-src-container">
<pre class="src src-bash">which xmonad
</pre>
</div>

<p>
/nix/store/6n1wh9ky7ydbd2ii5877nly9xbrqz4m9-xmonad-with-packages-8.10.6/bin/xmonad
[0m[38;5;236mî‚°[0m
[0m[38;5;236mî‚°[0m org<sub>babel</sub><sub>sh</sub><sub>eoe</sub>
</p>

<p>
And we now see not a binary file but a bash script
</p>
<div class="org-src-container">
<pre class="src src-bash">file /nix/store/6n1wh9ky7ydbd2ii5877nly9xbrqz4m9-xmonad-with-packages-8.10.6/bin/xmonad
</pre>
</div>

<p>
/nix/store/6n1wh9ky7ydbd2ii5877nly9xbrqz4m9-xmonad-with-packages-8.10.6/bin/xmonad: a /nix/store/dpjnjrqbgbm8a5wvi1hya01vd8wyvsq4-bash-4.4-p23/bin/bash -e script, ASCII text executable
[0m[38;5;236mî‚°[0m
[0m[38;5;236mî‚°[0m org<sub>babel</sub><sub>sh</sub><sub>eoe</sub>
</p>

<p>
And if you look at the contents, you&rsquo;ll see that it&rsquo;s actually using the same
xmonad from above, except it adds all the `extraPackages` locations for us:
</p>
<div class="org-src-container">
<pre class="src src-bash">which xmonad | xargs <span style="color: #ECBE7B;">cat</span>
</pre>
</div>

<p>

</p>

<p>
! /nix/store/dpjnjrqbgbm8a5wvi1hya01vd8wyvsq4-bash-4.4-p23/bin/bash -e
export NIX<sub>GHC</sub>=&rsquo;/nix/store/sca07cyap7rqkxk4c7sqkvn94bsfaaiz-ghc-8.10.6-with-packages/bin/ghc&rsquo;
export XMONAD<sub>XMESSAGE</sub>=&rsquo;/nix/store/jg3adhj3kpqm8dcrgb95nn5c5k5z61yx-xmessage-1.0.5/bin/xmessage&rsquo;
@&ldquo;
[0m[38;5;236mî‚°[0m
[0m[38;5;236mî‚°[0m org<sub>babel</sub><sub>sh</sub><sub>eoe</sub>
</p>

<p>
Let&rsquo;s compile
</p>
<div class="org-src-container">
<pre class="src src-bash">xmonad --recompile
</pre>
</div>

<p>
XMonad will use ghc to recompile, because &ldquo;<i>home/hao</i>.xmonad/build&rdquo; does not exist.
XMonad recompilation process exited with success!
[0m[38;5;236mî‚°[0m
[0m[38;5;236mî‚°[0m org<sub>babel</sub><sub>sh</sub><sub>eoe</sub>
</p>

<p>
But out of our safe space instead
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">exit</span>
</pre>
</div>

<p>

</p>

<p>
[0m[38;5;236mî‚°[0m
[0m[38;5;236mî‚°[0m org<sub>babel</sub><sub>sh</sub><sub>eoe</sub>
</p>

<div class="org-src-container">
<pre class="src src-bash">xmonad --recompile <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>
</pre>
</div>

<p>
XMonad will use ghc to recompile, because &ldquo;<i>home/hao</i>.xmonad/build&rdquo; does not exist.
XMonad recompilation process exited with success!
</p>
</div>
</div>

<div id="outline-container-orge470ff0" class="outline-2">
<h2 id="orge470ff0"><span class="section-number-2">3.</span> 03:46 Regexps en emacs</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org62b1aef" class="outline-3">
<h3 id="org62b1aef"><span class="section-number-3">3.1.</span> Referencias</h3>
<div class="outline-text-3" id="text-3-1">
<p>
<a href="https://www.emacswiki.org/emacs/RegularExpression">https://www.emacswiki.org/emacs/RegularExpression</a>
<a href="https://www.emacswiki.org/emacs/AlignCommands">https://www.emacswiki.org/emacs/AlignCommands</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org0f4a0b8" class="outline-2">
<h2 id="org0f4a0b8"><span class="section-number-2">4.</span> 03:50 Continuando con los diccionarios</h2>
<div class="outline-text-2" id="text-4">
<p>
Del diccionario de la RAE version PDF se pueden extraer las definiciones con
OCR (lease tesseract)
</p>
</div>
<div id="outline-container-org8930794" class="outline-3">
<h3 id="org8930794"><span class="section-number-3">4.1.</span> Referencias</h3>
<div class="outline-text-3" id="text-4-1">
<p>
<a href="https://www.simplifiedpython.net/pdf-to-text-python-extract-text-from-pdf-documents-using-pypdf2-module/">https://www.simplifiedpython.net/pdf-to-text-python-extract-text-from-pdf-documents-using-pypdf2-module/</a>
<a href="https://guides.library.illinois.edu/c.php?g=347520&amp;p=4121426">https://guides.library.illinois.edu/c.php?g=347520&amp;p=4121426</a>
<a href="https://pypi.org/project/pdfminer/">https://pypi.org/project/pdfminer/</a>
</p>

<p>
Paga:
<a href="https://towardsdatascience.com/extracting-text-from-scanned-pdf-using-pytesseract-open-cv-cd670ee38052">https://towardsdatascience.com/extracting-text-from-scanned-pdf-using-pytesseract-open-cv-cd670ee38052</a>
<a href="https://betterprogramming.pub/how-to-convert-pdfs-into-searchable-key-words-with-python-85aab86c544f">https://betterprogramming.pub/how-to-convert-pdfs-into-searchable-key-words-with-python-85aab86c544f</a>
<a href="https://towardsdatascience.com/pdf-text-extraction-in-python-5b6ab9e92dd">https://towardsdatascience.com/pdf-text-extraction-in-python-5b6ab9e92dd</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org694acc4" class="outline-2">
<h2 id="org694acc4"><span class="section-number-2">5.</span> 10:36 Ring a bell when a shell command finishes</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-sh">tput bel
</pre>
</div>

<p>

</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ECBE7B;">echo</span> -e <span style="color: var(--clr-string); background-color: var(--bg-string);">"\07"</span>
</pre>
</div>

<p>

</p>
</div>

<div id="outline-container-org8179c4e" class="outline-3">
<h3 id="org8179c4e"><span class="section-number-3">5.1.</span> References</h3>
</div>
</div>
<div id="outline-container-orgf942737" class="outline-2">
<h2 id="orgf942737"><span class="section-number-2">6.</span> 11:24 Continuando con el diccionario</h2>
<div class="outline-text-2" id="text-6">
<p>
Extraido del PDF de la rae:
</p>
</div>

<div id="outline-container-orgc748993" class="outline-3">
<h3 id="orgc748993"><span class="section-number-3">6.1.</span> Signos</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li>*: Forma hipotÃ©tica</li>
<li>Â®: Marca registrada (vÃ©ase Â«La vigesimotercera ediciÃ³n del Diccionario &#x2026; Â»).</li>
<li>-: Signo que sustituye al lema (vÃ©ase Â«AdvertenciasÂ»).</li>
<li>11: SeparaciÃ³n entre acepciones dentro de un mismo bloque, separaciÃ³n entre
formas complejas, separaciÃ³n entre acepciones de una misma forma compleja.</li>
<li>(11 ): Contiene un enunciado que expresa condensadamente determinada acepciÃ³n
de otro artÃ­culo.</li>
<li>+: SeparaciÃ³n entre enunciados, dentro del parÃ©ntesis que subsigue al lema.</li>
<li>â€¢: Comienzo de un bloque de acepciones que comparten categorÃ­a</li>
</ul>
<p>
gramatical.
</p>
<ul class="org-ul">
<li>o: Comienzo de un bloque de acepciones que comparten</li>
</ul>
<p>
subcategorÃ­a gramatical.
</p>
<ul class="org-ul">
<li>â€¢: Comienzo del bloque de formas complejas.</li>
<li>O: SeparaciÃ³n entre las dos secciones que puede haber dentro de las formas
complejas (vÃ©ase Â«La vigesimotercera ediciÃ³n del</li>
</ul>
<p>
Diccionario&#x2026; Â»).
</p>
<ul class="org-ul">
<li>&gt;: Comienzo, al final del artÃ­culo, del bloque de envÃ­os a otros</li>
</ul>
<p>
lemas
</p>

<p>
â—†
</p>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #ECBE7B;">echo</span> hi
</pre>
</div>

<p>
hi
</p>
</div>
</div>
</div>
<div id="outline-container-orgefb6832" class="outline-2">
<h2 id="orgefb6832"><span class="section-number-2">7.</span> 12:43 Colorear ANSII&#xa0;&#xa0;&#xa0;<span class="tag"><span class="no_export">no_export</span></span></h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">defun</span> <span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">ek/babel-ansi</span> <span style="color: #c678dd;">()</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">when-let</span> <span style="color: #98be65;">(</span><span style="color: #51afef;">(</span>beg <span style="color: #c678dd;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">org-babel-where-is-src-block-result</span> nil nil<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">save-excursion</span>
      <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">goto-char</span> beg<span style="color: #51afef;">)</span>
      <span style="color: #51afef;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">when</span> <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">looking-at</span> <span style="color: var(--clr-variable); background-color: var(--bg-variable);">org-babel-result-regexp</span><span style="color: #c678dd;">)</span>
        <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(save-excursion</span>
        <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;;   </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(goto-char (1- (org-babel-result-end)))</span>
        <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;;   </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(delete-region (line-beginning-position) (line-end-position)))</span>
        <span style="color: #c678dd;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">let</span> <span style="color: #98be65;">(</span><span style="color: #51afef;">(</span>end <span style="color: #c678dd;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">org-babel-result-end</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
              <span style="color: #51afef;">(</span><span style="color: var(--clr-variable); background-color: var(--bg-variable);">ansi-color-context-region</span> nil<span style="color: #51afef;">)</span><span style="color: #98be65;">)</span>
          <span style="color: #98be65;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">ansi-color-apply-on-region</span> beg end<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">add-hook</span> <span style="color: #51afef;">'</span><span style="color: var(--clr-variable); background-color: var(--bg-variable);">org-babel-after-execute-hook</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">ek/babel-ansi</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">remove-hook</span> <span style="color: #51afef;">'</span><span style="color: var(--clr-variable); background-color: var(--bg-variable);">org-babel-after-execute-hook</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">ek/babel-ansi</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
(org-redisplay-inline-images)
</p>
</div>
</div>

<div id="outline-container-org2b4ea7b" class="outline-2">
<h2 id="org2b4ea7b"><span class="section-number-2">8.</span> 12:43 Quitando el prompt del shell al ejecutar codigo desde org mode</h2>
<div class="outline-text-2" id="text-8">
<p>
Agrega esto al header:
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #87cefa;">:PROPERTIES:</span>
<span style="color: #83898d;">:header-args:bash:</span> <span style="color: #83898d;">:session rae-unicode-pdf :results output :exports both :cmdline --noprofile --norc</span>
<span style="color: #87cefa;">:END:</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orga8aba9e" class="outline-2">
<h2 id="orga8aba9e"><span class="section-number-2">9.</span> 22:45 Previsualizando powerline</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: var(--clr-variable); background-color: var(--bg-variable);">p</span>=$<span style="color: #51afef;">(</span><span style="color: #51afef; font-weight: bold;">powerline</span><span style="color: #51afef;">)</span>
<span style="color: var(--clr-builtin); background-color: var(--bg-builtin);">printf</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">'%s'</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">$</span><span style="color: var(--clr-variable); background-color: var(--bg-variable);">{p@P}</span><span style="color: var(--clr-string); background-color: var(--bg-string);">"</span>
</pre>
</div>

<p>

</p>

<p>
[0m[38;5;236mî‚°[0m
[0m[38;5;236mî‚°[0m [38;5;250m[48;5;240m hao [48;5;238m[38;5;240mî‚°[0m[38;5;250m[48;5;238m emma [48;5;31m[38;5;238mî‚°[0m[38;5;15m[48;5;31m ~ [48;5;237m[38;5;31mî‚°[0m[38;5;250m[48;5;237m journal [48;5;237m[38;5;244mî‚±[0m[38;5;254m[48;5;237m 2021 [48;5;236m[38;5;237mî‚°[0m[38;5;15m[48;5;236m $ [0m[38;5;236mî‚°[0m ]0;hao@emma:~/journal/2021\]7;<a href="file://emma/home/hao/journal/2021\">file://emma/home/hao/journal/2021\</a>[38;5;15m[48;5;236m 04:14:50 [48;5;31m[38;5;236mî‚°[0m[38;5;15m[48;5;31m ~ [48;5;237m[38;5;31mî‚°[0m[38;5;250m[48;5;237m â€¦ [48;5;237m[38;5;244mî‚±[0m[38;5;254m[48;5;237m 2021 [48;5;236m[38;5;237mî‚°[0m[38;5;15m[48;5;236m $ [0m[38;5;236mî‚°[0m
[0m[38;5;236mî‚°[0m org<sub>babel</sub><sub>sh</sub><sub>eoe</sub>
</p>
</div>
</div>
<div id="outline-container-org032f295" class="outline-2">
<h2 id="org032f295"><span class="section-number-2">10.</span> 23:11 Propertized text as elisp source block result</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">require</span> <span style="color: #51afef;">'</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">find-func</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">with-current-buffer</span>
    <span style="color: #c678dd;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">find-file-noselect</span> <span style="color: #98be65;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">find-library-name</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"ob-core.el"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">This is a hack.</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">`</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">org-no-properties</span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">' is defined by `</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">defsubst</span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">' and the byte-compiler replaces the symbol with the lambda.</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">We need the definition of `</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">org-babel-insert-result</span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">' containing the symbol `</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">org-no-properties</span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">'.</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">Therefore, we eval the defun for `</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">org-babel-insert-result</span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">' in the source file.</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">goto-char</span> <span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">point-min</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">re-search-forward</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"(defun org-babel-insert-result"</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">eval-defun</span> nil<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">defun</span> <span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">org-babel-execute-with-text-properties</span> <span style="color: #c678dd;">(</span>fun <span style="color: #ECBE7B;">&amp;optional</span> arg info params<span style="color: #c678dd;">)</span>
  <span style="color: var(--clr-doc); background-color: var(--bg-doc);">"Handler for header argument :text-properties.</span>
<span style="color: var(--clr-doc); background-color: var(--bg-doc);">Intended as :around advice for `</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">org-babel-execute-src-block</span><span style="color: var(--clr-doc); background-color: var(--bg-doc);">'.</span>
<span style="color: var(--clr-doc); background-color: var(--bg-doc);">Calls FUN with ARG, INFO and PARAMS.</span>
<span style="color: var(--clr-doc); background-color: var(--bg-doc);">If the alist (org-info- contains an yes- or t-entry for 'text-properties</span>
<span style="color: var(--clr-doc); background-color: var(--bg-doc);">Function `</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">org-no-properties</span><span style="color: var(--clr-doc); background-color: var(--bg-doc);">' is modified to a projection of its string argument."</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(message "arg: %s"    arg)</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(message "info: %s"   info)</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(message "params: %s" params)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">setq</span> params <span style="color: #98be65;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">org-combine-plists</span> params <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">nth</span> <span style="color: #da8548; font-weight: bold;">2</span> info<span style="color: #51afef;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(message "combined: %s" params)</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;; </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(let* ((kv (assoc-string :text-properties params))</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;;        </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(v  (cdr kv))</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;;         </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(p (assoc-string v '(yes t))))</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;;   </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(message "kv: %s" kv)</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;;   </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(message "v: %s" v)</span>
  <span style="color: var(--clr-comment-delimiter); background-color: var(--bg-comment-delimiter);">;;   </span><span style="color: var(--clr-comment); background-color: var(--bg-comment);">(message "p: %s" p))</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">assoc-string</span> <span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">cdr</span> <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">assoc-string</span> <span style="color: var(--clr-builtin); background-color: var(--bg-builtin);">:text-properties</span> params<span style="color: #51afef;">)</span><span style="color: #98be65;">)</span> <span style="color: #51afef;">'</span><span style="color: #98be65;">(</span>yes t<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">if</span> <span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">assoc-string</span> <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">cdr</span> <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">assoc-string</span> <span style="color: var(--clr-builtin); background-color: var(--bg-builtin);">:text-properties</span> params<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span> <span style="color: #51afef;">'</span><span style="color: #51afef;">(</span>yes t<span style="color: #51afef;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">cl-letf</span> <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">symbol-function</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-no-properties</span><span style="color: #98be65;">)</span> <span style="color: #98be65;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">lambda</span> <span style="color: #51afef;">(</span>str <span style="color: #ECBE7B;">&amp;rest</span> _ignore<span style="color: #51afef;">)</span>
                                                      <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">message</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"HELLOO %s"</span> str<span style="color: #51afef;">)</span>
                                                      str<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
      <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">funcall</span> fun arg info params<span style="color: #51afef;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">funcall</span> fun arg info params<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">defun</span> <span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">org+-babel-insert-result-with-text-properties</span> <span style="color: #c678dd;">(</span>fun result result-params <span style="color: #ECBE7B;">&amp;rest</span> args<span style="color: #c678dd;">)</span>
  <span style="color: var(--clr-doc); background-color: var(--bg-doc);">"Avoid removing text properties in `</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">org-babel-insert-result</span><span style="color: var(--clr-doc); background-color: var(--bg-doc);">'.</span>

<span style="color: var(--clr-doc); background-color: var(--bg-doc);">Add the new result type \"raw-props\" to Org source blocks.</span>
<span style="color: var(--clr-doc); background-color: var(--bg-doc);">With this result type text properties are not removed from the result.</span>

<span style="color: var(--clr-doc); background-color: var(--bg-doc);">This is an :around advice for `</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">org-babel-insert-result</span><span style="color: var(--clr-doc); background-color: var(--bg-doc);">' as FUN.</span>
<span style="color: var(--clr-doc); background-color: var(--bg-doc);">RESULT, RESULT-PARAMS, and ARGS are passed to FUN."</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">message</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"result: %s"</span> result<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">message</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"result-params: %s"</span> result-params<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">message</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"args: %s"</span> args<span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">if</span> <span style="color: #98be65;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">or</span> <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">member</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"props"</span> result-params<span style="color: #51afef;">)</span>
      <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">member</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"properties"</span> result-params<span style="color: #51afef;">)</span><span style="color: #98be65;">)</span>
      <span style="color: #98be65;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">cl-letf*</span> <span style="color: #51afef;">(</span><span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">symbol-function</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-no-properties</span><span style="color: #98be65;">)</span>
          <span style="color: #98be65;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">lambda</span> <span style="color: #51afef;">(</span>str <span style="color: #ECBE7B;">&amp;rest</span> _args<span style="color: #51afef;">)</span> str<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
    <span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">apply</span> fun result
           <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">delete</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"properties"</span> <span style="color: #98be65;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">remove</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"props"</span> result-params<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
           args<span style="color: #51afef;">)</span><span style="color: #98be65;">)</span>
    <span style="color: #98be65;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">apply</span> fun result result-params args<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">advice-remove</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-babel-insert-result</span> <span style="color: #51afef;">#'</span><span style="color: #ECBE7B;">org+-babel-insert-result-with-text-properties</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">advice-add</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-babel-insert-result</span> <span style="color: var(--clr-builtin); background-color: var(--bg-builtin);">:around</span> <span style="color: #51afef;">#'</span><span style="color: #ECBE7B;">org+-babel-insert-result-with-text-properties</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">advice-remove</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-babel-execute-src-block</span> <span style="color: #51afef;">#'</span><span style="color: #ECBE7B;">org-babel-execute-with-text-properties</span><span style="color: #51afef;">)</span>
<span style="color: #51afef;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">advice-add</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-babel-execute-src-block</span> <span style="color: var(--clr-builtin); background-color: var(--bg-builtin);">:around</span> <span style="color: #51afef;">#'</span><span style="color: #ECBE7B;">org-babel-execute-with-text-properties</span><span style="color: #51afef;">)</span>

<span style="color: #51afef;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">add-to-list</span> <span style="color: #51afef;">'</span><span style="color: var(--clr-variable); background-color: var(--bg-variable);">char-property-alias-alist</span> <span style="color: #51afef;">'</span><span style="color: #c678dd;">(</span>display my-display<span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: var(--clr-keyword); background-color: var(--bg-keyword);">let</span> <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>svg <span style="color: #51afef;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">svg-create</span> <span style="color: #da8548; font-weight: bold;">100</span> <span style="color: #da8548; font-weight: bold;">100</span> <span style="color: var(--clr-builtin); background-color: var(--bg-builtin);">:stroke-color</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"black"</span><span style="color: #51afef;">)</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">svg-line</span> svg <span style="color: #da8548; font-weight: bold;">50</span> <span style="color: #da8548; font-weight: bold;">10</span> <span style="color: #da8548; font-weight: bold;">50</span> <span style="color: #da8548; font-weight: bold;">90</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">svg-line</span> svg <span style="color: #da8548; font-weight: bold;">10</span> <span style="color: #da8548; font-weight: bold;">50</span> <span style="color: #da8548; font-weight: bold;">90</span> <span style="color: #da8548; font-weight: bold;">50</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">svg-circle</span> svg <span style="color: #da8548; font-weight: bold;">50</span> <span style="color: #da8548; font-weight: bold;">50</span> <span style="color: #da8548; font-weight: bold;">25</span> <span style="color: var(--clr-builtin); background-color: var(--bg-builtin);">:stroke-color</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"red"</span> <span style="color: var(--clr-builtin); background-color: var(--bg-builtin);">:fill-color</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"blue"</span><span style="color: #c678dd;">)</span>
  <span style="color: #c678dd;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">propertize</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"x"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">my-display</span> <span style="color: #98be65;">(</span><span style="color: var(--function-clr-name); background-color: var(--function-bg-name);">svg-image</span> svg<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
x
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #51afef;">(</span><span style="color: var(--clr-constant); background-color: var(--bg-constant);">propertize</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"function"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">font-lock-face</span> <span style="color: #51afef;">'</span><span style="color: var(--clr-variable); background-color: var(--bg-variable);">font-lock-function-name-face</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">my-display</span> <span style="color: var(--clr-string); background-color: var(--bg-string);">"no"</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
function
</p>

<p>
&lt;svg width=&ldquo;100&rdquo; height=&ldquo;100&rdquo; version=&ldquo;1.1&rdquo; xmlns=&ldquo;<a href="http://www.w3.org/2000/svg">http://www.w3.org/2000/svg</a>&rdquo; xmlns:xlink=&ldquo;<a href="http://www.w3.org/1999/xlink">http://www.w3.org/1999/xlink</a>&rdquo; stroke=&ldquo;black&rdquo;&gt; &lt;line x1=&ldquo;50&rdquo; x2=&ldquo;50&rdquo; y1=&ldquo;10&rdquo; y2=&ldquo;90&rdquo;&gt;&lt;/line&gt; &lt;line x1=&ldquo;10&rdquo; x2=&ldquo;90&rdquo; y1=&ldquo;50&rdquo; y2=&ldquo;50&rdquo;&gt;&lt;/line&gt; &lt;circle cx=&ldquo;50&rdquo; cy=&ldquo;50&rdquo; r=&ldquo;25&rdquo; fill=&ldquo;blue&rdquo; stroke=&ldquo;red&rdquo;&gt;&lt;/circle&gt;&lt;/svg&gt;
</p>
</div>

<div id="outline-container-org92aa2b2" class="outline-3">
<h3 id="org92aa2b2"><span class="section-number-3">10.1.</span> References</h3>
<div class="outline-text-3" id="text-10-1">
<p>
<a href="https://emacs.stackexchange.com/questions/56289/why-adding-the-display-property-does-not-work-on-some-part-of-a-file-while-it-w">https://emacs.stackexchange.com/questions/56289/why-adding-the-display-property-does-not-work-on-some-part-of-a-file-while-it-w</a>
<img src="https://preview.redd.it/pbxcdcwsleh41.png?width=648&amp;format=png&amp;auto=webp&amp;s=3db69167338bffdd0bc5c4eb165adc5c22b3c8cf" alt="pbxcdcwsleh41.png?width=648&amp;format=png&amp;auto=webp&amp;s=3db69167338bffdd0bc5c4eb165adc5c22b3c8cf" />
<a href="https://emacs.stackexchange.com/questions/57432/why-does-org-mode-elisp-evaluation-not-print-text-properties">https://emacs.stackexchange.com/questions/57432/why-does-org-mode-elisp-evaluation-not-print-text-properties</a>
<a href="https://old.reddit.com/r/emacs/comments/f3va1f/text_properties_in_results_of_orgmode_source/">https://old.reddit.com/r/emacs/comments/f3va1f/text_properties_in_results_of_orgmode_source/</a>
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
let cookie = document.cookie.split('; ').find(r => r.startsWith('org_html_themify_theme'))
let theme = 'light'

if (cookie) {
  theme = cookie.split('=')[1]
}

let toggleThemeBtn = document.getElementById('toggle-theme')
let toggleTocBtn = document.getElementById('toggle-toc')

if (theme == 'light') {
  useLightTheme();
} else {
  useDarkTheme();
}

function transition() {
  document.body.classList.add('theme-transition')
  setTimeout(() => document.body.classList.remove('theme-transition'), 500)
}

function useLightTheme(theme) {
  document.body.dataset.theme = 'light'
  toggleThemeBtn.innerHTML = 'dark theme'
  document.cookie = 'org_html_themify_theme=light'
}

function useDarkTheme(theme) {
  document.body.dataset.theme = 'dark'
  toggleThemeBtn.innerHTML = 'light theme'
  document.cookie = 'org_html_themify_theme=dark'
}

toggleThemeBtn.addEventListener('click', function() {
  transition()
  if (document.body.dataset.theme == 'light') {
    useDarkTheme();
  } else {
    useLightTheme();
  }
})


let toc = document.getElementById('table-of-contents')

toggleTocBtn.addEventListener('click', function() {
  toc.classList.add('toc-show')
  toc.addEventListener('click', function() {
    toc.classList.remove('toc-show')
  })
})
/*]]>*/-->
</script>
</div>
</body>
</html>
